# –≠–º–æ–¥–∑–∏-–ø–∞–∫ –¥–ª—è –∫–Ω–æ–ø–æ–∫ –∏ GIF –≤ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö

## –¶–≤–µ—Ç–Ω—ã–µ –∏ –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–Ω–æ–ø–∫–∏

–í –±–æ—Ç–µ —É–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è:
- **–¶–≤–µ—Ç –∫–Ω–æ–ø–æ–∫** ‚Äî —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä `style` —É InlineKeyboardButton (primary, success, danger), –µ—Å–ª–∏ –≤–∞—à–∞ –≤–µ—Ä—Å–∏—è Telegram Bot API –∏ aiogram —ç—Ç–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç.
- **–ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —ç–º–æ–¥–∑–∏** –∏–∑ —Å—Ç–∏–∫–µ—Ä-–ø–∞–∫–∞ ‚Äî —á–µ—Ä–µ–∑ –º–∞–ø–ø–∏–Ω–≥ `button_key` ‚Üí `custom_emoji_id`.

### –ö–∞–∫ –æ—Ç–¥–∞—Ç—å —ç–º–æ–¥–∑–∏-–ø–∞–∫ –≤ –±–æ—Ç–∞

1. **–ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Å—Ç–∏–∫–µ—Ä-–ø–∞–∫–∞ –∏–∑ Telegram**
   - –ù–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É @userinfobot –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ getStickerSet –≤ Bot API.
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø–æ–ª–Ω—ã–π JSON-–æ—Ç–≤–µ—Ç –º–µ—Ç–æ–¥–∞ `getStickerSet` (–ø–æ–ª–µ `result.stickers` —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–±—ä–µ–∫—Ç—ã —Å `emoji` –∏ `custom_emoji_id`) –≤ —Ñ–∞–π–ª, –Ω–∞–ø—Ä–∏–º–µ—Ä `sticker_set.json`.

2. **–ü–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞–ø–ø–∏–Ω–≥ emoji ‚Üí custom_emoji_id**
   ```bash
   python scripts/build_emoji_map.py sticker_set.json
   ```
   –°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª `emoji_to_custom_id.py` —Å –∫–æ–Ω—Å—Ç–∞–Ω—Ç–æ–π `EMOJI_TO_CUSTOM_ID`.

3. **–°–æ–±—Ä–∞—Ç—å –º–∞–ø–ø–∏–Ω–≥ –¥–ª—è –∫–Ω–æ–ø–æ–∫**
   –ö–Ω–æ–ø–∫–∏ –≤ –±–æ—Ç–µ –∏–º–µ—é—Ç `button_key`: `models`, `thinking`, `subscription`, `info`, `home`, `preset_serious`, `preset_neutral`, `preset_funny`, `preset_friend`, `cancel`, –∏ —Ç.–¥.  
   –ù—É–∂–Ω–æ —Å–æ–ø–æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∂–¥–æ–º—É –∫–ª—é—á—É –æ–¥–∏–Ω `custom_emoji_id` –∏–∑ –≤–∞—à–µ–≥–æ –ø–∞–∫–∞ (–ø–æ —Å–º—ã—Å–ª—É —ç–º–æ–¥–∑–∏), –Ω–∞–ø—Ä–∏–º–µ—Ä:
   - `models` ‚Üí id —ç–º–æ–¥–∑–∏ üß¨ –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∞
   - `thinking` ‚Üí üß†
   - `subscription` ‚Üí ‚≠ê
   - `info` ‚Üí ‚ÑπÔ∏è
   - `home` ‚Üí üè†

4. **–ü–µ—Ä–µ–¥–∞—Ç—å –º–∞–ø–ø–∏–Ω–≥ –≤ –±–æ—Ç–∞**
   - **–ß–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è** (JSON-—Å—Ç—Ä–æ–∫–∞):
     ```bash
     export BUTTON_EMOJI_PACK_JSON='{"models":"123456789","thinking":"987654321","subscription":"111222333","info":"444555666","home":"777888999"}'
     ```
   - **–ß–µ—Ä–µ–∑ config** –≤ `data/config.json`:
     ```json
     {
       "button_emoji_pack": {
         "models": "123456789",
         "thinking": "987654321",
         "subscription": "111222333",
         "info": "444555666",
         "home": "777888999"
       }
     }
     ```
   –ó–Ω–∞—á–µ–Ω–∏—è ‚Äî —Å—Ç—Ä–æ–∫–æ–≤—ã–µ `custom_emoji_id` –∏–∑ —Å—Ç–∏–∫–µ—Ä-–ø–∞–∫–∞.

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∫–Ω–æ–ø–∫–∏ —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º–∏ `button_key` –±—É–¥—É—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è —Å –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —ç–º–æ–¥–∑–∏ (–µ—Å–ª–∏ Telegram –∏ –∫–ª–∏–µ–Ω—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç).

---

## GIF –≤ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö

–í–æ **–≤—Å–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è** (–º–µ–Ω—é, –ø–æ–¥–ø–∏—Å–∫–∞, –ø–æ–º–æ—â—å, –æ—á–∏—Å—Ç–∫–∞ –∏ —Ç.–¥.), **–∫—Ä–æ–º–µ –æ—Ç–≤–µ—Ç–æ–≤ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ –≤ –¥–∏–∞–ª–æ–≥–µ**, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–ª—É—á–∞–π–Ω—É—é GIF: —Ç–µ–∫—Å—Ç —É—Ö–æ–¥–∏—Ç –≤ caption –∫ –∞–Ω–∏–º–∞—Ü–∏–∏.

- **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
  - `SYSTEM_GIF_URL` ‚Äî –æ–¥–Ω–∞ URL GIF.
  - `SYSTEM_GIF_URLS` ‚Äî –Ω–µ—Å–∫–æ–ª—å–∫–æ URL —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é (–∫–∞–∂–¥—ã–π —Ä–∞–∑ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω–∞—è).

- **–ö–æ–Ω—Ñ–∏–≥** `data/config.json`:
  ```json
  {
    "system_gif_urls": [
      "https://example.com/1.gif",
      "https://example.com/2.gif"
    ]
  }
  ```
  –ï—Å–ª–∏ –∑–∞–¥–∞–Ω `system_gif_urls`, –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –ø—É–ª; –∏–Ω–∞—á–µ ‚Äî –ø—É–ª –∏–∑ env.

–û—Ç–≤–µ—Ç—ã –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ –≤ —á–∞—Ç–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ, –±–µ–∑ —ç—Ç–æ–π –ª–æ–≥–∏–∫–∏ ‚Äî GIF –∫ –Ω–∏–º –Ω–µ –ø—Ä–∏–∫—Ä–µ–ø–ª—è–µ—Ç—Å—è.
